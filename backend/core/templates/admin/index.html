{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block extrastyle %}{{ block.super }}<link rel="stylesheet" href="{% static "admin/css/dashboard.css" %}">
<style>
    .quick-links {
        margin-bottom: 20px;
    }
    .quick-links h2 {
        font-size: 14px;
        color: #fff;
        margin-bottom: 10px;
    }
    .quick-links-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 12px;
    }
    .quick-link {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 12px 16px;
        background: #fff;
        border: 1px solid #ccc;
        border-radius: 6px;
        text-decoration: none;
        color: #333;
        transition: all 0.2s ease;
    }
    .quick-link:hover {
        background: #f5f5f5;
        border-color: #417690;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .quick-link-icon {
        width: 36px;
        height: 36px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
    }
    .quick-link-icon.upload {
        background: #d4edda;
        color: #155724;
    }
    .quick-link-icon.database {
        background: #f8d7da;
        color: #721c24;
    }
    .quick-link-icon.dashboard {
        background: #d1ecf1;
        color: #0c5460;
    }
    .quick-link-text {
        flex: 1;
    }
    .quick-link-title {
        font-weight: 600;
        font-size: 14px;
    }
    .quick-link-desc {
        font-size: 11px;
        color: #666;
        margin-top: 2px;
    }
</style>
{% endblock %}

{% block coltype %}colMS{% endblock %}

{% block bodyclass %}{{ block.super }} dashboard{% endblock %}

{% block nav-breadcrumbs %}{% endblock %}

{% block nav-sidebar %}{% endblock %}

{% block content %}
<div id="content-main" class="app-list">
    <!-- Quick Links Section -->
    <div class="quick-links module">
        <h2>Quick Actions</h2>
        <div class="quick-links-grid">
            <a href="{% url 'admin:core_dataupload_add' %}" class="quick-link">
                <div class="quick-link-icon upload">üì§</div>
                <div class="quick-link-text">
                    <div class="quick-link-title">Upload Data</div>
                    <div class="quick-link-desc">Import CSV/Excel files</div>
                </div>
            </a>
            <a href="{% url 'admin:database_management' %}" class="quick-link">
                <div class="quick-link-icon database">üóÑÔ∏è</div>
                <div class="quick-link-text">
                    <div class="quick-link-title">Database Management</div>
                    <div class="quick-link-desc">View stats & clear data</div>
                </div>
            </a>
            <a href="http://localhost/" target="_blank" class="quick-link">
                <div class="quick-link-icon dashboard">üìä</div>
                <div class="quick-link-text">
                    <div class="quick-link-title">View Dashboard</div>
                    <div class="quick-link-desc">Open frontend dashboard</div>
                </div>
            </a>
        </div>
    </div>

    {% include "admin/app_list.html" with app_list=app_list show_changelinks=True %}
</div>
{% endblock %}

{% block sidebar %}
<div id="content-related">
    <div class="module" id="recent-actions-module">
        <h2>{% translate 'Recent actions' %}</h2>
        <h3>{% translate 'My actions' %}</h3>
            {% load log %}
            {% get_admin_log 10 as admin_log for_user user %}
            {% if not admin_log %}
            <p>{% translate 'None available' %}</p>
            {% else %}
            <ul class="actionlist">
            {% for entry in admin_log %}
            <li class="{% if entry.is_addition %}addlink{% endif %}{% if entry.is_change %}changelink{% endif %}{% if entry.is_deletion %}deletelink{% endif %}">
                <span class="visually-hidden">{% if entry.is_addition %}{% translate 'Added:' %}{% elif entry.is_change %}{% translate 'Changed:' %}{% elif entry.is_deletion %}{% translate 'Deleted:' %}{% endif %}</span>
                {% if entry.is_deletion or not entry.get_admin_url %}
                    {{ entry.object_repr }}
                {% else %}
                    <a href="{{ entry.get_admin_url }}">{{ entry.object_repr }}</a>
                {% endif %}
                <br>
                {% if entry.content_type %}
                    <span class="mini quiet">{% filter capfirst %}{{ entry.content_type.name }}{% endfilter %}</span>
                {% else %}
                    <span class="mini quiet">{% translate 'Unknown content' %}</span>
                {% endif %}
            </li>
            {% endfor %}
            </ul>
            {% endif %}
    </div>
</div>
{% endblock %}
